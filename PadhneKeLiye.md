
# DoxBox - एक बिटकॉइन ⚡️ लाइटनिंग फोटोबॉक्स 

<p align="center">
<img src="https://raw.githubusercontent.com/j0sh21/DoxBox/main/docs/images/Box.jpeg" width="200">
</p>

DoxBox [LNbits](https://github.com/lnbits/lnbits) वॉलेट में बिटकॉइन लाइटनिंग भुगतान पर कैप्चर की गई तस्वीरें प्रिंट करता है।
आप इसे किसी भी शादी, सम्मेलन, मीटअप या त्यौहार पर सेटअप कर सकते हैं। हमने इसे मॉड्यूलर तरीके से बनाया है ताकि आप आसानी से इसके साथ यात्रा कर सकें।


## हार्डवेयर आवश्यकताएं

- **Raspberry Pi 4** जो Debian-आधारित ऑपरेटिंग सिस्टम पर चलता है, [Raspberry Pi की आधिकारिक सॉफ्टवेयर पृष्ठ से प्राप्त किया जा सकता है](https://www.raspberrypi.com/software/operating-systems/)।
- **DSLR कैमरा**: Canon EOS 450D, कम से कम 1GB SD-कार्ड के साथ। यदि आप दूसरा उपयोग करते हैं, [सुनिश्चित करें कि यह gphoto2 के साथ संगत है आधिकारिक वेबसाइट पर](http://www.gphoto.org/proj/libgphoto2/support.php)।
- **डिस्प्ले**: Waveshare 10.4" QLED Quantum Dot Capacitive Display (1600 x 720)।
- **प्रिंटर**: Xiaomi Instant Photo Printer 1S, CUPS प्रिंटिंग सिस्टम का समर्थन करता है, 6" फोटोपेपर।
- **LED**: 4 चैनल RGB LED स्ट्रिप, ब्रेडबोर्ड, कनेक्टिंग केबल्स, और 4 Mosfets के साथ।
- **निर्माण सामग्री**: 80x80cm के तीन प्लाईवुड शीट्स; एक लेजर कटर की पहुंच होना लाभकारी हो सकता है।
- **असेंबली हार्डवेयर**: कोने के 20 मैग्नेट्स के सेट्स (प्रत्येक में 2 टुकड़े), 4mm व्यास के 40 स्क्रू, और 4mm व्यास के 120 नट्स घटकों को सुरक्षित करने के लिए।
- **स्प्रे रंग**: 1 कैन प्राइमर, 4 कैन वास्तविक रंग।



  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/384280e0-cc6e-4bd0-9953-c318b5e12f15" height="200">
  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/e446af16-d840-4cbc-87f9-3d5f67b3a15d" height="200">
  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/4bcc6965-a1fa-41e5-8d07-cc7e3280bc58" height="200">

## उदाहरण कार्यक्रम प्रवाह:

<img src="docs/images/flowchart.JPG" height="1100">

## सेटअप निर्देश

### प्रमुख घटक

- **main.py**: एप्लिकेशन का प्रवेश बिंदु होता है, विभिन्न घटकों की क्रियान्विति का संचालन करता है।
- **app.py**: एप्लिकेशन के ग्राफिकल यूजर इंटरफेस (GUI) का प्रबंधन करता है, उपयोगकर्ता इंटरैक्शन को सुविधाजनक बनाता है और जानकारी प्रदर्शित करता है।
- **switch.py**: बाहरी API इंटरैक्शन्स को संभालता है और प्राप्त डेटा के आधार पर विशिष्ट क्रियाएं करता है, जैसे कि अन्य एप्लिकेशन घटकों को ट्रिगर करना।
- **img_capture.py**: कैमरों के साथ इंटरैक्ट करता है ताकि छवियों को कैप्चर किया जा सके, उन्हें डाउनलोड किया जा सके और फाइल स्टोरेज का प्रबंधन किया जा सके, gphoto2 का उपयोग करते हुए।
- **print.py (प्रगति में)**: CUPS का उपयोग करके प्रिंटर्स के साथ इंटरफेस करता है ताकि छवियों को प्रिंट किया जा सके, प्रिंटर्स का चयन करने और प्रिंट जॉब्स का प्रबंधन करने की कार्यक्षमता के साथ।
- **config.py**: एप्लिकेशन में व्यापक रूप से उपयोग की जाने वाली कॉन्फ़िगरेशन सेटिंग्स को समाहित करता है, जैसे कि API कुंजियाँ, डिवाइस नाम, और फाइल पथ।

### इंस्टालेशन

1. **रिपॉजिटरी को क्लोन करें**: इस रिपॉजिटरी को क्लोन करने से शुरू करें।

   ```sh
   git clone https://github.com/j0sh21/DoxBox.git
    ```
2. **डिपेंडेंसीज़ इंस्टॉल करें**: अपने सिस्टम पर Python इंस्टॉल होना सुनिश्चित करें, आवश्यक Python पैकेजेस इंस्टॉल करें।

    ```sh

    pip install -r requirements.txt
    ```
    **नोट**: कुछ कौम्पोनॅन्टस सिस्टम-लेवल डिपेंडेंसीज़ (जैसे, gphoto2, CUPS) की आवश्यकता हो सकती है।
   

   - अगर आप अतिरिक्त सिस्टम-लेवल डिपेंडेंसीज़ को स्वचालित रूप से इंस्टॉल करना चाहते हैं, तो install.sh चलाएं:
      ```sh
      cd DoxBox/install
      chmod u+x install.sh
      ./install.sh

3. **कॉन्फ़िगरेशन**: अपनी विशिष्ट सेटिंग्स के साथ config/cfg.ini की समीक्षा करें और अपडेट करें, जैसे डिवाइस नाम, API कुंजियाँ और फाइल पथ।
   ```sh
   nano cfg.ini
   ```

## उपयोग

एप्लिकेशन चलाने के लिए, प्रोजेक्ट डायरेक्टरी में जाएँ और main.py निष्पादित करें:

 ```sh
python3 main.py
 ```
विशिष्ट कार्यक्षमताओं के लिए, जैसे कि एक छवि कैप्चर करना या प्रिंट करना, आप संबंधित स्क्रिप्ट्स चला सकते हैं (उदाहरण के लिए, छवि कैप्चर के लिए python img_capture.py)।

**एक छवि कैप्चर करें**: अपने कैमरे को कनेक्ट करें और सुनिश्चित करें कि यह आपके सिस्टम द्वारा पहचाना जा रहा है, फिर निष्पादित करें:

 ```sh
python3 img_capture.py
 ```
**एक छवि प्रिंट करें**: अपने प्रिंटर का नाम और छवि फाइल पथ के साथ print.py को अपडेट करें, फिर निष्पादित करें:
 ```sh
python3 print.py
 ```

## DoxBox प्रोजेक्ट के लिए परिवर्तन सूची
### संस्करण 0.1, 25 फ़रवरी 2024 को जारी किया गया

### विशेषताएं
- नए फ्रेम और नए GIFs का उपयोग करने के लिए `app.py` को अपडेट किया गया।
- @arbadacarbaYK से नए GIFs को एकीकृत किया गया, खाली पृष्ठभूमि फ्रेम और वॉटरमार्क्स हटा दिए गए। काउंटडाउन GIFs में अब संख्याओं के बीच समान समय है।
- GIF लूप की गिनती को केवल एक बार रीसेट करने के लिए `self.isreplay` जोड़ा गया।
- `switch.py` से नए त्रुटि कोडों को अंग्रेजी, जर्मन, और पुर्तगाली में दस्तावेज़ीकरण में पेश किया गया।
- नई स्थिति 3.5 लागू की गई: पहली मुस्कान GIF समाप्त होने के बाद `img_capture.py` में संक्रमण।
- नई स्थिति 3.9 लागू की गई: फोटो सफलतापूर्वक कैमरा से स्थानांतरित, प्रिंट तैयारी शुरू।
- स्थिति 4 अग्रिम: फोटो को कैमरा से हटाने से पहले प्रिंटिंग शुरू करने के लिए पहले ट्रिगर किया गया।
- `img_capture.py` में कैमरा-विशिष्ट त्रुटि हैंडलिंग का पुनर्निर्माण किया गया।
- कैमरा-संबंधित त्रुटियों के लिए अधिकतम पुनः प्रयास प्रयास और परिवर्तनीय प्रतीक्षा समय पेश किए गए।

### सुधार
- LNbits API को पोल करने से पहले नेटवर्क कनेक्टिविटी जाँच जोड़ी गई।
- कंसोल आउटपुट स्टाइलिंग में सुधार और सफाई की गई।
- साफ़ UI के लिए माउस कर्सर छिपा दिया गया।
- लॉग संदेशों की स्पष्टता और विस्तार में सुधार किया गया।
- क्षतिग्रस्त फाइलों को हटा दिया गया और सामान्य सफाई की गई।
- बेहतर दृश्य प्रतिक्रिया के लिए LED प्रभावों को समायोजित किया गया।

### दोष सुधार
- `def kill_process()` को सही किया गया ताकि सही प्रक्रिया समाप्ति सुनिश्चित हो सके।
- एक साथ कई मुस्कान GIFs प्रदर्शित होने की समस्या को ठीक किया गया।
- एक बग को हल किया गया जहाँ स्थिति 204 प्रिंट जॉब विफलता जाँच पर अनिश्चित काल तक लटक सकती थी।

### इन्फ्रास्ट्रक्चर
- प्रिंट जॉब्स के लिए एक आउटपुट फोल्डर बनाया गया। **TODO:** `os.mkdir` का उपयोग करके फोल्डर निर्माण को स्वचालित करें, बजाय रेपोजिटरी में एक खाली फोल्डर शामिल करने के।
- **TODO:** `check_print_job_status` कार्यक्षमता को ठीक-ठाक करें।

## योगदान

परियोजना में योगदान का स्वागत है! पुल रिक्वेस्ट सबमिट करने, समस्याओं की रिपोर्ट करने या सुधार सुझाने के तरीके पर जानकारी के लिए कृपया योगदान दिशानिर्देशों का संदर्भ लें।


## लाइसेंस
यह प्रोजेक्ट MIT लाइसेंस के तहत लाइसेंस प्राप्त है - विवरण के लिए LICENSE फाइल देखें।
प्रोजेक्ट में योगदान का स्वागत है!

## स्वीकृति
[Ben Arc](https://github.com/arcbtc) को [LNbits](https://github.com/lnbits/lnbits) के लिए और इस प्रोजेक्ट में उपयोग किए गए बाहरी लाइब्रेरीज़ और उपकरणों के सभी रखवालों को विशेष धन्यवाद।

 ⚡️ अगर आपको DoxBox पसंद आया तो इस प्रोजेक्ट को [टिप दें](https://legend.lnbits.com/lnurlp/link/4Wc7ZE) ⚡️
