
# Doxbox - фотобокс на биткойнах ⚡️ lightning

<p align="center">
<img src="https://github.com/j0sh21/DoxBox/assets/63317640/7eda15cf-c3a2-4236-9e24-a084b4512d96" width="200">
</p>

Doxbox печатает захваченные изображения после оплаты биткойнами через свой кошелек [LNbits](https://github.com/lnbits/lnbits). 
Вы можете установить его на любой свадьбе, конференции, встрече или фестивале. Мы собрали его модульным образом, так что вы можете легко путешествовать с ним.

## Требования к оборудованию

- **Raspberry Pi 4**, работающий на [прошивке debian](https://www.raspberrypi.com/software/operating-systems/)
- **DSLR-камера**: Canon EOS 450D с SD-картой минимум на 1 ГБ. Если вы используете другую, убедитесь в совместимости с gphoto2
- **Дисплей**: Waveshare 10.4" QLED Quantum Dot емкостный дисплей (1600 x 720)
- **Принтер**: Xiaomi-Instant-Photo-Printer-1S, совместимый с CUPS, фотобумага 6 дюймов
- **LED**: 4-полосная RGB-линия, макетная плата, кабели, 4 Мосфета
- **Дерево**: 3 x 80x80 см фанеры, возможно, лазерный резак
- **Магниты**: 20 угловых магнитов (по 2 шт.), 40 винтов 4 мм, 120 гаек 4 мм
- **Спрей-краска**: 1 банка грунтовочной краски, 4 банки основной краски


  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/384280e0-cc6e-4bd0-9953-c318b5e12f15" height="200">
  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/e446af16-d840-4cbc-87f9-3d5f67b3a15d" height="200"> 
  <img src="https://github.com/j0sh21/DoxBox/assets/63317640/4bcc6965-a1fa-41e5-8d07-cc7e3280bc58" height="200">


## Пример потока программы:

<img src="docs/images/flowchart.JPG" height="1100">

## Инструкции по настройке

### Основные компоненты

- **main.py**: Служит точкой входа в приложение, организует выполнение различных компонентов в зависимости от режимов работы.
- **app.py**: Управляет графическим интерфейсом пользователя (GUI) приложения, облегчая взаимодействие с пользователем и отображая информацию.
- **switch.py**: Обрабатывает внешние взаимодействия с API и выполняет конкретные действия на основе полученных данных, такие как активация других компонентов приложения.
- **img_capture.py**: Взаимодействует с камерами для захвата изображений, их загрузки и управления файлами, используя gphoto2.
- **print.py (В разработке)**: Взаимодействует с принтерами с использованием CUPS для печати изображений, с функциональностью выбора принтеров и управления заданиями печати.
- **config.py**: Содержит настройки конфигурации, используемые во всем приложении, такие как ключи API, имена устройств и пути к файлам.

### Установка

1. **Клонируйте репозиторий**: Начните с клонирования этого репозитория.

   ```sh
   git clone https://github.com/j0sh21/DoxBox.git
   ```

3. **Установите зависимости**: Убедитесь, что Python установлен на вашей системе, установите необходимые пакеты Python.

    ```sh
    pip install -r requirements.txt
    ```
    **Примечание**: Некоторые компоненты могут требовать дополнительные зависимости на уровне системы (например, gphoto2, CUPS).
   

   - Если вы хотите автоматически установить дополнительные зависимости на уровне системы, запустите install.sh:
      ```sh
      cd DoxBox/install
      chmod u+x install.sh
      ./install.sh
     ```

3. **Настройка**: Просмотрите и обновите config/cfg.ini с вашими конкретными настройками, такими как имена устройств, ключи API и пути к файлам.
   ```sh
   nano cfg.ini
   ```

## Использование

Чтобы запустить приложение, перейдите в директорию проекта и выполните main.py:

 ```sh
python3 main.py
 ```
Для конкретных функциональностей, таких как захват изображения или печать, вы можете запустить соответствующие скрипты (например, python img_capture.py для захвата изображения).

**Захват изображения**: Убедитесь, что ваша камера подключена и распознана вашей системой, затем выполните:

 ```sh
python3 img_capture.py
 ```
**Печать изображения**: Обновите print.py с именем вашего принтера и путем к файлу изображения, затем выполните:
 ```sh
  python3 print.py
 ```
## Лицензия
Этот проект лицензирован под лицензией MIT - см. файл LICENSE для подробностей.
К проекту приветствуются вклады!

## Благодарности
Особая благодарность [Ben Arc](https://github.com/arcbtc) за [LNbits](https://github.com/lnbits/lnbits) и всех сопровождающих внешние библиотеки и инструменты, также используемые в этом проекте.

 ⚡️ [Поддержите этот проект](https://legend.lnbits.com/lnurlp/link/4Wc7ZE), если вам нравится DoxBox ⚡️
